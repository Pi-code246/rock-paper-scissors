<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Rock paper scissors game</title>
    </head>
    <body>
        <script>
            const items = ['rock','paper','scissors'];
            
            function humanPlay() {
                pick = prompt('Pick rock, paper or scissors');
                return pick.toLowerCase()
            }
            
            function computerPlay() {
                randomNumber = Math.floor( Math.random() * items.length);
                return items[randomNumber];
            }

            function playAgain() {
                if (confirm('Play again?') == true) {
                    play();
                } else {
                    console.log('Thanks for game');
                }
            }
            
            playerScore = 0;
            computerScore = 0;
            
            function play() {

                x = humanPlay();

                y = computerPlay();

                console.log('Computer picked ' + y + ' while you picked ' + x);

                if (x == y) { console.log('Tie'); }

                else if ((x == 'rock' && y == 'scissors') || (x == 'paper' && y == 'rock') || (x == 'scissors' && y == 'paper')) { console.log('You won, ' + x + ' beats ' + y + '.'); playerScore = ++playerScore }

                else { console.log('You lost, ' + y + ' beats ' + x + '.'); computerScore = ++computerScore }

            }


            for (let i = 0; i < 5; i++) {
                play();
            }

            if (playerScore > computerScore) {
                console.log(`FINAL SCORE: Your score: ${playerScore}. Computer score: ${computerScore}. YOU WON`);
            } else {
                console.log(`FINAL SCORE: Your score: ${playerScore}. Computer score: ${computerScore}. YOU LOST`);
            }

            playerScore = 0;
            computerScore = 0;

            playAgain();
            
        </script>
    </body>
</html>